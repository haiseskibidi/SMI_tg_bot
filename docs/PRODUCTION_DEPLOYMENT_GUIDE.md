# üè¢ –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ production –¥–µ–ø–ª–æ—é –¥–ª—è –º–µ–¥–∏–∞—Ö–æ–ª–¥–∏–Ω–≥–∞

**–ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–∞ –Ω–æ–≤–æ–º —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è 7 –æ—Ç–¥–µ–ª–æ–≤**

---

## üìã **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**

### üñ•Ô∏è **–°–µ—Ä–≤–µ—Ä**
- **–û–°**: Ubuntu 20.04+ / Debian 11+
- **RAM**: 8GB+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 16GB)  
- **CPU**: 4+ —è–¥—Ä–∞
- **–î–∏—Å–∫**: 100GB+ SSD
- **–°–µ—Ç—å**: –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É

### üîë **Telegram —Ä–µ—Å—É—Ä—Å—ã (–ø–æ–ª—É—á–∏—Ç–µ –∑–∞—Ä–∞–Ω–µ–µ)**
- **7 Telegram –∞–∫–∫–∞—É–Ω—Ç–æ–≤** —Å –Ω–æ–º–µ—Ä–∞–º–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
- **–î–æ—Å—Ç—É–ø –∫ my.telegram.org** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
- **7 –≥—Ä—É–ø–ø** –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π (–ø–æ –æ–¥–Ω–æ–π –Ω–∞ –æ—Ç–¥–µ–ª)
- **–°–ø–∏—Å–∫–∏ –∫–∞–Ω–∞–ª–æ–≤** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª–∞ (9-11 –∫–∞–Ω–∞–ª–æ–≤)

---

## üöÄ **–≠–¢–ê–ü 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞**

### 1.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
```bash
# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@your-server-ip

# –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É
apt update && apt upgrade -y

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã
apt install -y python3 python3-pip python3-venv git curl wget htop nano systemd
```

### 1.2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
# –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
useradd -m -s /bin/bash newsmonitor
usermod -aG sudo newsmonitor

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º sudo –±–µ–∑ –ø–∞—Ä–æ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
echo "newsmonitor ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
```

### 1.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ufw
apt install -y ufw

# –†–∞–∑—Ä–µ—à–∞–µ–º SSH
ufw allow 22

# –†–∞–∑—Ä–µ—à–∞–µ–º HTTP/HTTPS (–µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤–µ–±-–ø–∞–Ω–µ–ª—å –≤ –±—É–¥—É—â–µ–º)
ufw allow 80
ufw allow 443

# –í–∫–ª—é—á–∞–µ–º firewall
ufw --force enable
```

### 1.4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–æ—Å–∫–æ–≤—Å–∫–∏–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å
timedatectl set-timezone Europe/Moscow
timedatectl status
```

---

## üì¶ **–≠–¢–ê–ü 2: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∫–æ–¥–∞**

### 2.1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ /opt
cd /opt

# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à)
git clone https://github.com/your-username/your-repo news-monitor/smi-bot

# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd news-monitor/smi-bot

# –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –≤–µ—Ç–∫—É deploy
git checkout deploy

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ
ls -la deploy/setup_corporate.sh
```

### 2.2. –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
```bash
# –î–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x deploy/setup_corporate.sh

# –ó–∞–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
./deploy/setup_corporate.sh
```

### 2.3. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/news-monitor/smi-bot

# –°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º
source venv/bin/activate

# –û–±–Ω–æ–≤–ª—è–µ–º pip
pip install --upgrade pip

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
pip list | grep -E "(telethon|aiosqlite|httpx)"
```

---

## üîë **–≠–¢–ê–ü 3: –ü–æ–ª—É—á–µ–Ω–∏–µ Telegram –∫–ª—é—á–µ–π**

### 3.1. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞)

**–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è –≤—Å–µ—Ö 7 –∞–∫–∫–∞—É–Ω—Ç–æ–≤:**

1. **–ò–¥–µ–º –Ω–∞ https://my.telegram.org**
2. **–ê–≤—Ç–æ—Ä–∏–∑—É–µ–º—Å—è** –ø–æ–¥ –∞–∫–∫–∞—É–Ω—Ç–æ–º –æ—Ç–¥–µ–ª–∞
3. **API development tools** ‚Üí **Create application**
4. **–ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É:**
   - App title: `News Monitor - –û—Ç–¥–µ–ª X`  
   - Short name: `newsmonitor_dept_x`
   - URL: (–æ—Å—Ç–∞–≤–ª—è–µ–º –ø—É—Å—Ç—ã–º)
   - Platform: **Other**
   - Description: `–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è –æ—Ç–¥–µ–ª–∞`
5. **–°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ:**

```
=== –û–¢–î–ï–õ 1: –•–æ–ª–æ–¥–Ω–æ–µ –ø–ª–∞–º—è ===
–¢–µ–ª–µ—Ñ–æ–Ω: +7XXXXXXXXXX
api_id: 12345678
api_hash: abcdef1234567890abcdef1234567890

=== –û–¢–î–ï–õ 2: ===
–¢–µ–ª–µ—Ñ–æ–Ω: +7XXXXXXXXXX  
api_id: 87654321
api_hash: 0987654321fedcba1234567890

... (–∏ —Ç–∞–∫ –¥–ª—è –≤—Å–µ—Ö 7)
```

### 3.2. –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–æ–≤ —É @BotFather

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª–∞:**

1. **–ü–∏—à–µ–º @BotFather**: `/newbot`
2. **–í–≤–æ–¥–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ**: `News Monitor - –•–æ–ª–æ–¥–Ω–æ–µ –ø–ª–∞–º—è`
3. **–í–≤–æ–¥–∏–º username**: `news_holodnoe_plamya_bot`
4. **–ö–æ–ø–∏—Ä—É–µ–º —Ç–æ–∫–µ–Ω**: `1234567890:AAGhT-ZZZ_abc123def456ghi789jkl`
5. **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –±–æ—Ç–∞**:
   - `/setdescription` - –æ–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞
   - `/setcommands` - –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
   - `/setprivacy` - –æ—Ç–∫–ª—é—á–∞–µ–º privacy mode

**–°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –¥–ª—è @BotFather:**
```
start - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å–∏—Å—Ç–µ–º—ã
status - –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
digest - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–π–¥–∂–µ—Å—Ç–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
help - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
manage_channels - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏
restart - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```

### 3.3. –ü–æ–ª—É—á–µ–Ω–∏–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≥—Ä—É–ø–ø

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª–∞:**

1. **ID –∞–¥–º–∏–Ω–∞ –æ—Ç–¥–µ–ª–∞**: 
   - –ê–¥–º–∏–Ω –ø–∏—à–µ—Ç @userinfobot
   - –ö–æ–ø–∏—Ä—É–µ—Ç "Your ID"

2. **ID –≥—Ä—É–ø–ø—ã –æ—Ç–¥–µ–ª–∞**:
   - –°–æ–∑–¥–∞–µ–º –≥—Ä—É–ø–ø—É –æ—Ç–¥–µ–ª–∞ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)
   - –î–æ–±–∞–≤–ª—è–µ–º @userinfobot –≤ –≥—Ä—É–ø–ø—É
   - –ö–æ–ø–∏—Ä—É–µ–º "Chat ID" (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ)

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–ø–∏–∫–æ–≤ –≤ –≥—Ä—É–ø–ø–µ** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
   - –í–∫–ª—é—á–∞–µ–º —Ç–µ–º—ã –≤ –≥—Ä—É–ø–ø–µ
   - –°–æ–∑–¥–∞–µ–º —Ç–µ–º—ã: "–°—Ä–æ—á–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏", "–û–±—â–∏–µ –Ω–æ–≤–æ—Å—Ç–∏", "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞"
   - –ö–æ–º–∞–Ω–¥–∞ `/topic_id` –≤ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è ID

---

## ‚öôÔ∏è **–≠–¢–ê–ü 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π**

### 4.1. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ .env —Ñ–∞–π–ª–æ–≤

**–î–ª—è –ö–ê–ñ–î–û–ì–û –æ—Ç–¥–µ–ª–∞** (–ø—Ä–∏–º–µ—Ä –¥–ª—è "–•–æ–ª–æ–¥–Ω–æ–µ –ø–ª–∞–º—è"):

```bash
nano /opt/news-monitor/configs/holodnoe_plamya/.env
```

```env
# Telegram API (—Å my.telegram.org)
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=abcdef1234567890abcdef1234567890

# Bot Token (–æ—Ç @BotFather)
BOT_TOKEN=1234567890:AAGhT-ZZZ_abc123def456ghi789jkl

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –æ—Ç–¥–µ–ª–∞ (–æ—Ç @userinfobot)
BOT_CHAT_ID=123456789

# ID –≥—Ä—É–ø–ø—ã –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π (–æ—Ç @userinfobot)
TARGET_GROUP_ID=-1001234567890

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–¥–µ–ª–∞
DEPARTMENT_NAME=–•–æ–ª–æ–¥–Ω–æ–µ –ø–ª–∞–º—è
DEPARTMENT_EMOJI=üî•
DEPARTMENT_KEY=holodnoe_plamya
```

**–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è –≤—Å–µ—Ö 7 –æ—Ç–¥–µ–ª–æ–≤!**

### 4.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–æ–≤ –æ—Ç–¥–µ–ª–æ–≤

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª–∞** –∑–∞–º–µ–Ω–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã:

```bash
nano /opt/news-monitor/configs/holodnoe_plamya/channels_config.yaml
```

```yaml
departments:
  main_department:
    name: "üî• –•–æ–ª–æ–¥–Ω–æ–µ –ø–ª–∞–º—è"
    channels:
      # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –†–ï–ê–õ–¨–ù–´–ï –∫–∞–Ω–∞–ª—ã –æ—Ç–¥–µ–ª–∞!
      - username: "real_department_channel_1"
        title: "–ì–ª–∞–≤–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –æ—Ç–¥–µ–ª–∞"
      - username: "real_department_channel_2"  
        title: "–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏"
      - username: "real_department_channel_3"
        title: "–°—Ä–æ—á–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏"
      - username: "real_department_channel_4"
        title: "–ü–æ–ª–∏—Ç–∏–∫–∞"
      - username: "real_department_channel_5"
        title: "–≠–∫–æ–Ω–æ–º–∏–∫–∞"
      - username: "real_department_channel_6"
        title: "–û–±—â–µ—Å—Ç–≤–æ"
      - username: "real_department_channel_7"
        title: "–ö—Ä–∏–º–∏–Ω–∞–ª"
      - username: "real_department_channel_8"
        title: "–ß–ü –∏ –ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏—è"
      - username: "real_department_channel_9"
        title: "–°–ø–æ—Ä—Ç"
      # –î–æ–±–∞–≤—å—Ç–µ –µ—â–µ 1-2 –∫–∞–Ω–∞–ª–∞ –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
```

### 4.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∞
chown -R root:root /opt/news-monitor/
chmod 600 /opt/news-monitor/configs/*/.env
chmod +x /opt/news-monitor/smi-bot/venv/bin/python
```

---

## üîê **–≠–¢–ê–ü 5: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Telegram**

### 5.1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª–∞

**–î–ª—è –ö–ê–ñ–î–û–ì–û –æ—Ç–¥–µ–ª–∞** (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∞–∫–∫–∞—É–Ω—Ç–æ–≤):

```bash
cd /opt/news-monitor/smi-bot

# –û—Ç–¥–µ–ª 1: –•–æ–ª–æ–¥–Ω–æ–µ –ø–ª–∞–º—è
CONFIG_PATH=/opt/news-monitor/configs/holodnoe_plamya/config.yaml \
DATA_PATH=/opt/news-monitor/data/holodnoe_plamya \
SESSION_PATH=/opt/news-monitor/sessions/holodnoe_plamya \
DEPARTMENT_KEY=holodnoe_plamya \
/opt/news-monitor/smi-bot/venv/bin/python main.py
```

**–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–∞–∂–¥–æ–≥–æ:**
1. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∞–∫–∫–∞—É–Ω—Ç–∞: `+7XXXXXXXXXX`
2. –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ SMS
3. –ü–æ—Å–ª–µ —Å–æ–æ–±—â–µ–Ω–∏—è "‚úÖ Telegram –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≥–æ—Ç–æ–≤" –Ω–∞–∂–º–∏—Ç–µ **Ctrl+C**
4. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –æ—Ç–¥–µ–ª—É

**–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è –≤—Å–µ—Ö 7 –æ—Ç–¥–µ–ª–æ–≤!**

---

## üöÄ **–≠–¢–ê–ü 6: –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã**

### 6.1. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º systemd
systemctl daemon-reload

# –í–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
systemctl enable news-monitor-*

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –±–æ—Ç—ã
systemctl start news-monitor-*

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
systemctl status news-monitor-*
```

### 6.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
systemctl list-units "news-monitor-*" --state=active

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–∞
journalctl -u news-monitor-holodnoe_plamya -f

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep python | grep main.py
```

---

## üíæ **–≠–¢–ê–ü 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—ç–∫–∞–ø–æ–≤**

### 7.1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –±—ç–∫–∞–ø–∞
```bash
mkdir -p /opt/backups
nano /opt/backups/backup_news_monitor.sh
```

```bash
#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–∞ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="/opt/backups"
SOURCE_DIR="/opt/news-monitor"

echo "üîÑ –ù–∞—á–∏–Ω–∞–µ–º –±—ç–∫–∞–ø —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞..."

# –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫—É –¥–ª—è –±—ç–∫–∞–ø–∞
mkdir -p "$BACKUP_DIR/daily"
mkdir -p "$BACKUP_DIR/weekly"

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
echo "‚è∏Ô∏è –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–∏—Å—ã..."
systemctl stop news-monitor-*

# –°–æ–∑–¥–∞–µ–º –∞—Ä—Ö–∏–≤
echo "üì¶ –°–æ–∑–¥–∞–µ–º –∞—Ä—Ö–∏–≤..."
tar -czf "$BACKUP_DIR/daily/news_monitor_backup_$DATE.tar.gz" \
    -C /opt news-monitor/configs \
    -C /opt news-monitor/data \
    -C /opt news-monitor/sessions \
    -C /opt news-monitor/logs

# –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –æ—Ç–¥–µ–ª—å–Ω–æ
echo "üíæ –ë—ç–∫–∞–ø –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö..."
mkdir -p "$BACKUP_DIR/daily/databases_$DATE"
for db in /opt/news-monitor/data/*/*.db; do
    if [ -f "$db" ]; then
        dept_name=$(basename $(dirname "$db"))
        cp "$db" "$BACKUP_DIR/daily/databases_$DATE/${dept_name}_monitor.db"
    fi
done

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å—ã –æ–±—Ä–∞—Ç–Ω–æ
echo "‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å—ã..."
systemctl start news-monitor-*

# –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –±—ç–∫–∞–ø—ã (—Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π)
find "$BACKUP_DIR/daily" -name "*.tar.gz" -mtime +7 -delete
find "$BACKUP_DIR/daily" -name "databases_*" -mtime +7 -exec rm -rf {} \;

# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –±—ç–∫–∞–ø (–ø–æ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è–º)
if [ $(date +%u) -eq 7 ]; then
    cp "$BACKUP_DIR/daily/news_monitor_backup_$DATE.tar.gz" "$BACKUP_DIR/weekly/"
    cp -r "$BACKUP_DIR/daily/databases_$DATE" "$BACKUP_DIR/weekly/"
    
    # –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –±—ç–∫–∞–ø—ã (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
    find "$BACKUP_DIR/weekly" -name "*.tar.gz" -mtime +30 -delete
    find "$BACKUP_DIR/weekly" -name "databases_*" -mtime +30 -exec rm -rf {} \;
fi

echo "‚úÖ –ë—ç–∫–∞–ø –∑–∞–≤–µ—Ä—à–µ–Ω: $BACKUP_DIR/daily/news_monitor_backup_$DATE.tar.gz"
```

```bash
# –î–µ–ª–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x /opt/backups/backup_news_monitor.sh
```

### 7.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±—ç–∫–∞–ø–æ–≤ —á–µ—Ä–µ–∑ cron
```bash
# –û—Ç–∫—Ä—ã–≤–∞–µ–º crontab
crontab -e

# –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–∞—á–∏
# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±—ç–∫–∞–ø –≤ 3:00
0 3 * * * /opt/backups/backup_news_monitor.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∫–∞–∂–¥—ã–π —á–∞—Å
0 * * * * systemctl is-active --quiet news-monitor-* || /opt/backups/check_services.sh
```

### 7.3. –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
nano /opt/backups/check_services.sh
```

```bash
#!/bin/bash

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞..."

failed_services=()

for service in news-monitor-*; do
    if ! systemctl is-active --quiet "$service"; then
        failed_services+=("$service")
        echo "‚ùå –°–µ—Ä–≤–∏—Å $service –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω"
        
        # –ü—ã—Ç–∞–µ–º—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
        systemctl restart "$service"
        sleep 5
        
        if systemctl is-active --quiet "$service"; then
            echo "‚úÖ –°–µ—Ä–≤–∏—Å $service –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ"
        else
            echo "üö® –°–µ—Ä–≤–∏—Å $service –ù–ï –£–î–ê–õ–û–°–¨ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å!"
        fi
    fi
done

if [ ${#failed_services[@]} -eq 0 ]; then
    echo "‚úÖ –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ"
else
    echo "‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏: ${failed_services[*]}"
fi
```

```bash
chmod +x /opt/backups/check_services.sh
```

---

## üìä **–≠–¢–ê–ü 8: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ**

### 8.1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
nano /opt/backups/system_health.sh
```

```bash
#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
echo "üè• === –ü–†–û–í–ï–†–ö–ê –ó–î–û–†–û–í–¨–Ø –°–ò–°–¢–ï–ú–´ === $(date)"
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
echo "üìä –°–¢–ê–¢–£–° –°–ï–†–í–ò–°–û–í:"
failed_count=0
for service in news-monitor-*; do
    if systemctl is-active --quiet "$service" 2>/dev/null; then
        echo "‚úÖ $service"
    else
        echo "‚ùå $service"
        ((failed_count++))
    fi
done
echo "–ù–µ—Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: $failed_count"
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
echo "üíª –°–ò–°–¢–ï–ú–ù–´–ï –†–ï–°–£–†–°–´:"
echo "CPU: $(top -bn1 | grep "Cpu(s)" | awk '{print $2}' | cut -d'%' -f1)%"
echo "RAM: $(free | grep Mem | awk '{printf "%.1f%%", $3/$2 * 100.0}')"
echo "–î–∏—Å–∫: $(df /opt | tail -1 | awk '{print $5}')"
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –Ω–∞ –æ—à–∏–±–∫–∏
echo "üîç –ü–û–°–õ–ï–î–ù–ò–ï –û–®–ò–ë–ö–ò:"
error_count=$(journalctl -u "news-monitor-*" --since "1 hour ago" | grep -c "ERROR" || echo "0")
echo "–û—à–∏–±–æ–∫ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å: $error_count"

if [ $error_count -gt 10 ]; then
    echo "‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –ú–Ω–æ–≥–æ –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö!"
    journalctl -u "news-monitor-*" --since "1 hour ago" | grep "ERROR" | tail -5
fi
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
echo "üíæ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï –î–ò–°–ö–ê:"
for path in /opt/news-monitor/data /opt/news-monitor/logs /opt/backups; do
    if [ -d "$path" ]; then
        size=$(du -sh "$path" | cut -f1)
        echo "$path: $size"
    fi
done
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
echo "üóÉÔ∏è –†–ê–ó–ú–ï–†–´ –ë–ê–ó –î–ê–ù–ù–´–•:"
for db in /opt/news-monitor/data/*/*.db; do
    if [ -f "$db" ]; then
        dept=$(basename $(dirname "$db"))
        size=$(du -sh "$db" | cut -f1)
        echo "$dept: $size"
    fi
done
```

```bash
chmod +x /opt/backups/system_health.sh
```

### 8.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
# –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è logrotate
nano /etc/logrotate.d/news-monitor
```

```
/opt/news-monitor/logs/*/*.log {
    daily
    rotate 30
    compress
    delaycompress
    missingok
    notifempty
    copytruncate
    maxsize 100M
}
```

### 8.3. –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
```bash
nano /opt/backups/update_system.sh
```

```bash
#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
echo "üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–æ–≤–æ—Å—Ç–µ–π..."

# –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /opt/news-monitor/smi-bot

# –°–æ–∑–¥–∞–µ–º –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
echo "üíæ –°–æ–∑–¥–∞–µ–º –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º..."
/opt/backups/backup_news_monitor.sh

# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–∏—Å—ã
echo "‚è∏Ô∏è –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ—Ä–≤–∏—Å—ã..."
systemctl stop news-monitor-*

# –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–¥
echo "‚¨áÔ∏è –°–∫–∞—á–∏–≤–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è..."
git fetch origin
git pull origin deploy

# –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
echo "üì¶ –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏..."
source venv/bin/activate
pip install --upgrade -r requirements.txt

# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å—ã
echo "‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–∏—Å—ã..."
systemctl start news-monitor-*

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
sleep 10
echo "üìä –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å..."
systemctl status news-monitor-* --no-pager

echo "‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
```

```bash
chmod +x /opt/backups/update_system.sh
```

---

## üîí **–≠–¢–ê–ü 9: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

### 9.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ fail2ban (–∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞)
```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º fail2ban
apt install -y fail2ban

# –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ñ–∏–≥
nano /etc/fail2ban/jail.local
```

```ini
[DEFAULT]
bantime = 3600
findtime = 600
maxretry = 5

[sshd]
enabled = true
port = 22
filter = sshd
logpath = /var/log/auth.log
maxretry = 3
```

```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º fail2ban
systemctl enable fail2ban
systemctl start fail2ban
```

### 9.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```bash
# –ë—ç–∫–∞–ø–∏–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥
cp /etc/ssh/sshd_config /etc/ssh/sshd_config.bak

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥
nano /etc/ssh/sshd_config
```

–î–æ–±–∞–≤–ª—è–µ–º/–∏–∑–º–µ–Ω—è–µ–º:
```
# –û—Ç–∫–ª—é—á–∞–µ–º –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é –¥–ª—è root
PermitRootLogin prohibit-password

# –û—Ç–∫–ª—é—á–∞–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ –ø–∞—Ä–æ–ª—é (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã SSH –∫–ª—é—á–∏)
# PasswordAuthentication no

# –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
MaxAuthTries 3

# –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏
ClientAliveInterval 300
ClientAliveCountMax 2
```

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º SSH
systemctl restart sshd
```

### 9.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
chmod 600 /opt/news-monitor/configs/*/.env
chmod 700 /opt/news-monitor/sessions/
chmod 755 /opt/news-monitor/smi-bot/

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≤–ª–∞–¥–µ–ª—å—Ü–∞
chown -R root:root /opt/news-monitor/
```

---

## üìà **–≠–¢–ê–ü 10: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**

### 10.1. –ß–µ–∫-–ª–∏—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

**‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –ø—É–Ω–∫—Ç—ã:**

- [ ] **–°–µ—Ä–≤–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω** (–æ–±–Ω–æ–≤–ª–µ–Ω, firewall, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- [ ] **–ö–æ–¥ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç** –≤ `/opt/news-monitor/smi-bot/`
- [ ] **–í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ** —Å–æ–∑–¥–∞–Ω–æ –∏ –∞–∫—Ç–∏–≤–Ω–æ
- [ ] **7 Telegram API –∫–ª—é—á–µ–π** –ø–æ–ª—É—á–µ–Ω—ã –∏ –∑–∞–ø–∏—Å–∞–Ω—ã
- [ ] **7 –±–æ—Ç–æ–≤** —Å–æ–∑–¥–∞–Ω—ã —É @BotFather
- [ ] **7 .env —Ñ–∞–π–ª–æ–≤** –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- [ ] **7 channels_config.yaml** —Å–æ–¥–µ—Ä–∂–∞—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
- [ ] **7 Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–π** –ø—Ä–æ–π–¥–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
- [ ] **7 systemd —Å–µ—Ä–≤–∏—Å–æ–≤** –∑–∞–ø—É—â–µ–Ω—ã –∏ –∞–∫—Ç–∏–≤–Ω—ã
- [ ] **–õ–æ–≥–∏** –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —É—Å–ø–µ—à–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
- [ ] **–ë–æ—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç** –Ω–∞ –∫–æ–º–∞–Ω–¥—ã –≤ –≥—Ä—É–ø–ø–∞—Ö
- [ ] **–¢–µ—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è
- [ ] **–ë—ç–∫–∞–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã** (–µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ + –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ)
- [ ] **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω** (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤)
- [ ] **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞** (firewall, fail2ban, SSH)
- [ ] **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω–∞

### 10.2. –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
systemctl list-units "news-monitor-*" --state=active

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
/opt/backups/system_health.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±—ç–∫–∞–ø–æ–≤
ls -la /opt/backups/daily/

# –¢–µ—Å—Ç –æ–¥–Ω–æ–≥–æ –∏–∑ –±–æ—Ç–æ–≤
echo "–û—Ç–ø—Ä–∞–≤—å—Ç–µ /start –æ–¥–Ω–æ–º—É –∏–∑ –±–æ—Ç–æ–≤ –≤ –≥—Ä—É–ø–ø–µ"
```

---

## üÜò **–≠–¢–ê–ü 11: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**

### 11.1. –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
systemctl restart news-monitor-*

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–∞
systemctl restart news-monitor-holodnoe_plamya

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–∞
journalctl -u news-monitor-holodnoe_plamya -f

# –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
journalctl -u "news-monitor-*" --since "1 hour ago"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
df -h /opt

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞–º—è—Ç–∏
free -h

# –ü—Ä–æ—Ü–µ—Å—Å—ã –±–æ—Ç–æ–≤
ps aux | grep python | grep main.py
```

### 11.2. –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**üî¥ –ü—Ä–æ–±–ª–µ–º–∞**: –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
**üîß –†–µ—à–µ–Ω–∏–µ**:
```bash
journalctl -u news-monitor-–æ—Ç–¥–µ–ª --since "5 minutes ago"
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
```

**üî¥ –ü—Ä–æ–±–ª–µ–º–∞**: "Rate limit exceeded"
**üîß –†–µ—à–µ–Ω–∏–µ**:
```bash
# –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã –≤ config.yaml
nano /opt/news-monitor/configs/–æ—Ç–¥–µ–ª/config.yaml
# monitoring.timeouts.delay_between_batches: 15
```

**üî¥ –ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
**üîß –†–µ—à–µ–Ω–∏–µ**:
```bash
# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤
find /opt/news-monitor/logs -name "*.log" -mtime +7 -delete
# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤
find /opt/backups -name "*.tar.gz" -mtime +14 -delete
```

---

## üìû **–ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

### üìö **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
- **–û—Å–Ω–æ–≤–Ω–∞—è**: `/opt/news-monitor/smi-bot/docs/CORPORATE_DEPLOYMENT_V2.md`
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: `/opt/news-monitor/smi-bot/docs/architecture/`
- **–£—Ç–∏–ª–∏—Ç—ã**: `/opt/news-monitor/smi-bot/tools/README.md`

### üõ†Ô∏è **–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏**
- **my.telegram.org** - –ø–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π
- **@BotFather** - —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–æ–≤
- **@userinfobot** - –ø–æ–ª—É—á–µ–Ω–∏–µ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≥—Ä—É–ø–ø

### üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
/opt/backups/system_health.sh

# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
/opt/backups/update_system.sh
```

---

üéâ **–°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –†–ê–ë–û–¢–ï –í PRODUCTION!**

**–í—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è**: 4-6 —á–∞—Å–æ–≤ (–≤–∫–ª—é—á–∞—è –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–∫–µ–Ω–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É 7 –æ—Ç–¥–µ–ª–æ–≤)
**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞**: 70+ –∫–∞–Ω–∞–ª–æ–≤, 7 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –±–æ—Ç–æ–≤
**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã**: –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ + –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ
**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: 24/7 –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
