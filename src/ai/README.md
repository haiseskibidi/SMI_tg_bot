

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π.





–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏—Ö —Å—Ä–æ—á–Ω–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é:

- **HuggingFace AI –º–æ–¥–µ–ª–µ–π** - sentiment analysis –∏ text classification
- **–ö–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤** - —Å–ø–∏—Å–æ–∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **–í—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤** - "—Å—Ä–æ—á–Ω–æ", "—Ç–æ–ª—å–∫–æ —á—Ç–æ", –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–∫–æ—Ä–∏–Ω–≥–∞** - AI + –ø—Ä–∞–≤–∏–ª–∞ + —ç–≤—Ä–∏—Å—Ç–∏–∫–∏



| –£—Ä–æ–≤–µ–Ω—å | –≠–º–æ–¥–∑–∏ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä—ã |
|---------|--------|----------|---------|
| **urgent** | üî¥ | –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è | –ß–ü, —Ç–µ—Ä–∞–∫—Ç—ã, –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã |
| **important** | üü° | –ó–Ω–∞—á–∏–º—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ | –ü–æ–ª–∏—Ç–∏–∫–∞, —ç–∫–æ–Ω–æ–º–∏–∫–∞ |
| **normal** | ‚ö™ | –û–±—ã—á–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ | –°–ø–æ—Ä—Ç, —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è |




```bash
pip install transformers torch accelerate sentencepiece
```


–í `config/config.yaml`:
```yaml
ai:
  enabled: true
  urgency_detection:
    enabled: true
    min_score_urgent: 0.7
    min_score_important: 0.4
    use_huggingface: true
```


```bash
python test_urgency.py
```




```python
from src.ai.urgency_detector import analyze_news_urgency


result = await analyze_news_urgency("–°—Ä–æ—á–Ω–æ! –ü–æ–∂–∞—Ä –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞!")

print(result['urgency_level'])  
print(result['urgency_score'])  
print(result['emoji'])          
print(result['reasoning'])      
```


```python
from src.ai.urgency_detector import urgency_detector

original_text = "–ê–≤–∞—Ä–∏—è –Ω–∞ –ú–ö–ê–î, –µ—Å—Ç—å –ø–æ—Å—Ç—Ä–∞–¥–∞–≤—à–∏–µ"
urgency_data = await urgency_detector.detect_urgency(original_text)

formatted = urgency_detector.format_urgent_message(original_text, urgency_data)

```




```python

if final_score >= 0.7:      
    urgency_level = 'urgent'
elif final_score >= 0.4:    
    urgency_level = 'important'
else:                       
    urgency_level = 'normal'
```


```python
urgent_keywords = {
    'emergency': ['–ø–æ–∂–∞—Ä', '–≤–∑—Ä—ã–≤', '–∞–≤–∞—Ä–∏—è', '–∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞'],
    'politics_urgent': ['–æ—Ç—Å—Ç–∞–≤–∫–∞', '–∞—Ä–µ—Å—Ç', '–≤–æ–π–Ω–∞'],
    'economy_urgent': ['–¥–µ—Ñ–æ–ª—Ç', '–±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ', '–∫—Ä–∏–∑–∏—Å'],
    'crime_urgent': ['—É–±–∏–π—Å—Ç–≤–æ', '–ø–æ—Ö–∏—â–µ–Ω–∏–µ', '—Ç–µ—Ä—Ä–æ—Ä']
}
```


```python

sentiment_model = "cardiffnlp/twitter-xlm-roberta-base-sentiment"


classifier_model = "facebook/bart-large-mnli"
```




- **RAM**: 2-4 GB –¥–ª—è –º–æ–¥–µ–ª–µ–π
- **CPU/GPU**: Torch –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç CUDA
- **–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞**: 0.5-2 —Å–µ–∫ –Ω–∞ –Ω–æ–≤–æ—Å—Ç—å


- –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ AI ‚Üí –±–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –º–æ–¥–µ–ª–∏ ‚Üí –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–µ–∑ AI
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è



1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤** –∏–∑ —Ç–µ–∫—Å—Ç–∞
2. **AI –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è** —á–µ—Ä–µ–∑ HuggingFace
3. **–ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏** (–Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ —á–∞—Å—Ç–æ —Å—Ä–æ—á–Ω—ã–µ)
4. **–ü–æ–∏—Å–∫ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤** ("—Å—Ä–æ—á–Ω–æ", "—Å–µ–π—á–∞—Å")
5. **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫–æ—Ä–∏–Ω–≥** –≤—Å–µ—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤
6. **–ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è** –∏ —ç–º–æ–¥–∑–∏
7. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å–æ–æ–±—â–µ–Ω–∏—è




```bash

export LOG_LEVEL=DEBUG


tail -f logs/news_monitor.log | grep "ü§ñ\|üéØ\|üî¥\|üü°"
```


```python
stats = await urgency_detector.get_statistics()
print(f"AI –º–æ–¥–µ–ª–∏: {stats['ai_models_loaded']}")
print(f"–ö–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤: {stats['total_keywords']}")
```


```bash

python test_urgency.py


python -c "
import asyncio
from src.ai.urgency_detector import analyze_news_urgency
result = asyncio.run(analyze_news_urgency('–í–∞—à —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏'))
print(result)
"
```




AI –º–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ `MessageProcessor`:
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥—É—é –Ω–æ–≤–æ—Å—Ç—å
- –î–æ–±–∞–≤–ª—è–µ—Ç —ç–º–æ–¥–∑–∏ –∏ –ø—Ä–µ—Ñ–∏–∫—Å—ã
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤ –ë–î
- –õ–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞


```bash

systemctl status news-monitor-*
journalctl -u news-monitor-* | grep "ü§ñ"


grep "üî¥ –°–†–û–ß–ù–ê–Ø" logs/*.log | wc -l
```



- üìù **–ê–≤—Ç–æ—Å–∞–º–º–∞—Ä–∏** - –∫—Ä–∞—Ç–∫–∏–µ –∏–∑–ª–æ–∂–µ–Ω–∏—è –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
- üîç **–ü–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** - –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –Ω–æ–≤–æ—Å—Ç–µ–π
- üè∑Ô∏è **–ê–≤—Ç–æ—Ç–µ–≥–∏** - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ç–µ–º
- üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–µ–Ω–¥–æ–≤** - –≤—ã—è–≤–ª–µ–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–µ–º
- üåê **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤
